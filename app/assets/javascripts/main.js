(function ($) {  var ANIMATION_DURATION = 200;  var CLOSE_BUTTON = '<span class="close_alert delete_button">Ã—</span>';    $(function() {    //Enable alert closing    $('.alert').each(function() {      var alert = $(this);      alert.append(CLOSE_BUTTON);      alert.children('.close_alert').on('click.alert', function() { alert.remove(); });    });        //Attach submit click handlers    //$(document).on('click.submit', 'a.submit', function() { $(this).closest('form').submit(); return false; });    //$(document).on('click.submit', 'input.submit', function() { $(this).closest('form').submit(); });        //$('.timeago').timeago();  });    $(document).ajaxComplete(function(event, request) {    var error = request.getResponseHeader('Flash-Error-Message');    if (error) addAlert(error, 'error');        var warning = request.getResponseHeader('Flash-Warning-Message');    if (warning) addAlert(warning, 'warning');        var notice = request.getResponseHeader('Flash-Notice-Message');    if (notice) addAlert(notice, 'notice');        $('.timeago').timeago();  });    function addFlash(message, type) {    var clientFlash = $('#client_flash');    clientFlash.append('<div class="flash ' + type + '">' + message + CLOSE_BUTTON + '</div>');    clientFlash.children('.flash').filter(':last').children('.close_client_flash').on('click.flash', function() { $(this).parent().remove(); });  }})(jQuery);