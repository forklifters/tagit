(function ($) {  $.extend(true, window, {    constants: {      ANIMATION_DURATION: 200    }  });    var CLOSE_BUTTON = '<button class="close">&times;</button>';    $(function() {    //Enable alert closing    $('.alert').each(function() {      var alert = $(this);      alert.append(CLOSE_BUTTON);      alert.children('.close').on('click.alert', function() { alert.remove(); });    });        //Attach submit click handlers    //$(document).on('click.submit', 'a.submit', function() { $(this).closest('form').submit(); return false; });    //$(document).on('click.submit', 'input.submit', function() { $(this).closest('form').submit(); });        //$('.timeago').timeago();  });    $(document).ajaxComplete(function(event, request) {    var error = request.getResponseHeader('Alert-Error-Message');    if (error) addAlert(error, 'error');        var warning = request.getResponseHeader('Alert-Warning-Message');    if (warning) addAlert(warning, 'warning');        var notice = request.getResponseHeader('Alert-Notice-Message');    if (notice) addAlert(notice, 'notice');        $('.timeago').timeago();  });    function addAlert(message, type) {    var clientAlerts = $('#client_alerts');    clientAlerts.append('<div class="alert ' + type + '">' + message + CLOSE_BUTTON + '</div>');    clientAlerts.children('.alert').filter(':last').children('.close').on('click.alert', function() { $(this).parent().remove(); });  }})(jQuery);